<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="1038.32">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Verdana; color: #000101}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Verdana; color: #000101; min-height: 15.0px}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Verdana; color: #000101}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 10.0px Verdana; color: #000101}
    p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 10.0px Verdana; color: #000101; min-height: 12.0px}
    p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 10.0px Verdana; min-height: 12.0px}
    p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; min-height: 12.0px}
    p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #e10000}
    p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 10.0px Verdana}
    p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco}
    p.p11 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Verdana}
    p.p12 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Verdana; min-height: 15.0px}
    p.p13 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #3300d3}
    p.p14 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #008c00}
    p.p15 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #e10000; min-height: 12.0px}
    span.s1 {font: 9.0px Monaco; color: #3300d3}
    span.s2 {font: 9.0px Monaco; color: #000000}
    span.s3 {color: #000000}
    span.s4 {color: #3300d3}
    span.s5 {color: #e10000}
    span.s6 {color: #000101}
    span.s7 {color: #737373}
    span.s8 {color: #008c00}
    span.s9 {font: 9.0px Monaco; color: #e10000}
    span.Apple-tab-span {white-space:pre}
  </style>
</head>
<body>
<p class="p1"><b>WFSCollider Classes</b></p>
<p class="p2"><br></p>
<p class="p3">Classes for <b>designing and composing </b>spatial information<b>:</b></p>
<p class="p2"><br></p>
<p class="p3"><b>WFSPoint</b></p>
<p class="p3">3 dimensional cartesian point (x, y, z)</p>
<p class="p2"><br></p>
<p class="p4">WFSPoints define an absolute position in meters in the space where the WFS system is installed. WFSPoint(0,0,0) is the absolute center of the space, when x goes up the point moves to the right, when y goes up the point moves towards the front. Z defines the altidude, but in the current wfs setup this value is not used. It is there for future extensions. z=0 would mean ear level then, and currently is the speakerlevel. This should always be zero, but tweaking this can be done. WFSPoints can also contain audio or control rate values. Note that not all method calls might work on non-scalar values.</p>
<p class="p5"><br></p>
<p class="p5"><br></p>
<p class="p3"><b>WFSPlane</b></p>
<p class="p3">plane wave specification ( angle, distance )</p>
<p class="p2"><br></p>
<p class="p4">WFSPlanes define an absolute position in angle degrees meters of a plane wave. Angle is the direction in which</p>
<p class="p4">the plane wave is pointed, distance is the distance from the center ( WFSPoint(0,0,0) ) of the space.</p>
<p class="p4">WFSPlanes can not move over time in this version of WFS Classes</p>
<p class="p5"><br></p>
<p class="p2"><br></p>
<p class="p3"><b>WFSPath</b></p>
<p class="p3">A spatial path containing positions and delta-times ( [ positions ], [ times ], name )</p>
<p class="p2"><br></p>
<p class="p4">The WFSPath contains an array of positions (WFSPoints) and times in between them (in seconds). It represents a thee-dimensional path for a sound source to travel across the space. There are various of ways to create and generate them. These paths can be saved in xml files. Each WFSPath in a project should preferrably have a unique name. If this name is not given by the user the class will generate one on its own.</p>
<p class="p5"><br></p>
<p class="p4">special creation methods:</p>
<p class="p5"><br></p>
<p class="p4"><b><span class="Apple-tab-span">	</span>*circle </b>( number of points, center position, radius, start angle, number of cycles,<span class="Apple-converted-space"> </span></p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>scale amount per new point, close end (true/false), duration (seconds), name )</p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p4"><span class="Apple-tab-span">	</span><b>*ellipse </b>( number of points, center position, radius, start angle, number of cycles,<span class="Apple-converted-space"> </span></p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>scale end point, move end point, close end (true/false), duration (seconds), name )</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Better version of circle: radius can be [x,y], Point or WFSPoint, and scale/move end</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>point are implemented differently</p>
<p class="p5"><span class="Apple-tab-span">	</span></p>
<p class="p4"><span class="Apple-tab-span">	</span><b>*rand </b>( number of points, radius, duration, name )</p>
<p class="p5"><span class="Apple-tab-span">	</span></p>
<p class="p4"><span class="Apple-tab-span">	</span><b>*randS </b>( number of points, radius, seed, duration, name )</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Seeded rand</p>
<p class="p5"><span class="Apple-tab-span">	</span></p>
<p class="p4"><span class="Apple-tab-span">	</span><b>*spiral </b>( number of periods, resolution ( points per period ), start radius, end radius, duration, name )</p>
<p class="p5"><span class="Apple-tab-span">	</span></p>
<p class="p4"><span class="Apple-tab-span">	</span><b>*lissajous </b>( number of points, periods x, periods y, phase x. phase y, radius, duration, name )</p>
<p class="p5"><span class="Apple-tab-span">	</span></p>
<p class="p4"><span class="Apple-tab-span">	</span><b>*line </b>( number of points, start point, angle, speed, accelleration, delta time per point, name )</p>
<p class="p5"><span class="Apple-tab-span">	</span></p>
<p class="p4"><span class="Apple-tab-span">	</span><b>*rect </b>( left, top, width, height, rounded corner radius, rounded corner division, duration, name )</p>
<p class="p5"><span class="Apple-tab-span">	</span></p>
<p class="p4"><span class="Apple-tab-span">	</span><b>*generate </b>( number of points, function, name, time mode ( 'delta' / 'absolute' ) )</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>The function is passed the following arguments:</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>count</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>array with out points created so far</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>array with times created so far</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>It should output an Array with a WFSPoint and a time value</p>
<p class="p5"><br></p>
<p class="p5"><br></p>
<p class="p3"><b>WFSPathEditor</b></p>
<p class="p3">A two dimensional graphical editor for WFSPath objects</p>
<p class="p2"><br></p>
<p class="p4">Many WFSPath modifications can be called from here, and group transformations. There can be only one path editor active at a time. All the contents of the editor are stored in global variables, and can still be accessed when the path editor window itself is closed.</p>
<p class="p5"><br></p>
<p class="p4">The path editor does not edit the WFSPaths objects themselves; it imports them into it's own space. They can be accessed with <span class="s1">WFSPath</span><span class="s2">.fromEditor</span>, which will create a new WFSPath object with the currently edited path.<span class="s3"><span class="Apple-converted-space"> </span></span> <span class="s1">WFSPath</span><span class="s2">.paths </span>will create a WFSPathArray containing all loaded paths from the editor.</p>
<p class="p6"><br></p>
<p class="p7"><br></p>
<p class="p8"><span class="s4">WFSPathEditor</span><span class="s3">.new; </span>// open empty WFSPathEditor</p>
<p class="p6"><br></p>
<p class="p9">Another easy way to call the WFSPathEditor is from WFSPath:</p>
<p class="p6"><br></p>
<p class="p10">(</p>
<p class="p8"><span class="s3">p = </span><span class="s4">WFSPath</span><span class="s3">.circle; </span>// create a (circle shaped) WFSPath</p>
<p class="p8"><span class="s3">p.edit; <span class="Apple-converted-space">            </span></span>// add it to the WFSPathEditor</p>
<p class="p10">)</p>
<p class="p7"><br></p>
<p class="p10">(</p>
<p class="p8"><span class="s3">q = </span><span class="s4">WFSPath</span><span class="s3">.fromEditor; </span>// get the currently edited path from the editor</p>
<p class="p10">q.plot; <span class="Apple-converted-space">                </span><span class="s5">// plot it in a window</span></p>
<p class="p10">)</p>
<p class="p6"><br></p>
<p class="p11">Classes for <b>configuring </b>the system:</p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p11"><b>WFSSpeaker</b></p>
<p class="p11">Speaker position and direction (x,y,z,angle)<span class="Apple-converted-space"> </span></p>
<p class="p12"><br></p>
<p class="p9">WFSSpeakers define an absolute positions in meters of the speakers in the space where the WFS system is installed. The direction is an angle in degrees ( 0-360 by default ) relative to the speaker itself in which the emitted sound<span class="Apple-converted-space">  </span>travels. WFSSpeaker(0,1,0,180) would be a speaker one meter in front of the center of the space, faced towards the center.</p>
<p class="p6"><br></p>
<p class="p9">Please note that all angle information in the WFS Classes is turned to the right by 90° in relation to regular polar coordinates: a wfs angle of 0° means towards the front of the system</p>
<p class="p6"><br></p>
<p class="p12"><br></p>
<p class="p11"><b>WFSSpeakerArray / WFSSpeakerLine</b></p>
<p class="p11">Arrays containing speaker information for multiple speakers</p>
<p class="p6"><br></p>
<p class="p9">These are Arrays of WFSSpeakers. A WFSSpeakerArray can contain any WFSSpeaker where a WFSSpeakerLine only contains speakers which are next to each other and facing the same direction.<span class="Apple-converted-space"> </span></p>
<p class="p9">The typical 8-speakerarrays often used for WFS synthesis can be easily created with WFSSpeakeLine:</p>
<p class="p6"><br></p>
<p class="p10">(</p>
<p class="p10">a = <span class="s4">WFSSpeakerLine</span>.newFromLeft(<span class="Apple-converted-space"> </span></p>
<p class="p8"><span class="s3"><span class="Apple-tab-span">	</span></span><span class="s4">WFSSpeaker</span><span class="s3">( 0, 0, 0, 50 ),<span class="Apple-converted-space">  </span></span>// most left sided speaker (when standing in front of array)</p>
<p class="p10"><span class="Apple-tab-span">	</span>8,<span class="Apple-converted-space">                          </span><span class="s5">// number of speakers in line</span></p>
<p class="p8"><span class="s3"><span class="Apple-tab-span">	</span>0.125 ); <span class="Apple-converted-space">                    </span></span>// distances between every speaker</p>
<p class="p7"><span class="Apple-tab-span">	</span></p>
<p class="p10">a.plotSmooth; <span class="Apple-converted-space">    <span class="Apple-tab-span">	</span>                  </span><span class="s5">// show the speakerline in a window</span></p>
<p class="p10">)</p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p11"><b>WFSConfiguration</b></p>
<p class="p11">A collection of speaker positions, containing WFSSpeakerArrays and WFSSpeakerLines</p>
<p class="p12"><br></p>
<p class="p9">WFSConfiguration is the class containing all speaker positions for a WFS system. The configuration also gets a name, which is generated according to the input values. This name is used in the naming of the WFSSynthDefs, and can be changed after creation.</p>
<p class="p6"><br></p>
<p class="p9">classvar <span class="s6"><b>default </b></span>is a placeholder for the default configuration. This is used for all synthdefs and plot windows.</p>
<p class="p6"><br></p>
<p class="p13">WFSConfiguration<span class="s3">.default;</span></p>
<p class="p6"><br></p>
<p class="p4">special creation methods:</p>
<p class="p5"><br></p>
<p class="p4"><b><span class="Apple-tab-span">	</span>*stereo </b>(<span class="Apple-converted-space">  </span>width )</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>A configuration wih only 2 speakers facing eachother is created. Typical for headphone use</p>
<p class="p5"><span class="Apple-tab-span">	</span></p>
<p class="p4"><span class="Apple-tab-span">	</span><b>*quad </b>( width, depth )</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>A configuration with 4 speakers is created, facing each other. For use with conventional</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>quadraphonic setups</p>
<p class="p5"><span class="Apple-tab-span">	</span></p>
<p class="p4"><span class="Apple-tab-span">	</span><b>*rect </b>( number of speakers x, number of speakers y, distance between every two speakers )</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Contains a rectangle shaped setup with four sides facing each other.<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span></p>
<p class="p4"><span class="Apple-tab-span">	</span><b>*rect2 </b>( number of speakers x, number of speakers y, distance between every two speakers,</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>distance between left and right sides, distance between front and back sides, <span class="Apple-converted-space">  </span>)</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Contains a rectangle shaped setup with four sides facing each other</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>This is the default setup for the Game Of Life WFS system</p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p4"><span class="Apple-tab-span">	</span><b>*halfRect2_1 </b>( number of speakers x, number of speakers y, distance between every two speakers,</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>distance between left and right sides, distance between front and back sides, <span class="Apple-converted-space">  </span>)</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Contains the front and right side a rectangle shaped setup with four sides facing each other</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>This is the default setup for the Game Of Life WFS system's first server</p>
<p class="p5"><span class="Apple-tab-span">	</span></p>
<p class="p4"><span class="Apple-tab-span">	</span><b>*halfRect2_2 </b>( number of speakers x, number of speakers y, distance between every two speakers,</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>distance between left and right sides, distance between front and back sides, <span class="Apple-converted-space">  </span>)</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Contains the front and right side a rectangle shaped setup with four sides facing each other</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>This is the default setup for the Game Of Life WFS system's second server</p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p5"><span class="Apple-tab-span">	</span></p>
<p class="p5"><span class="Apple-tab-span">	</span></p>
<p class="p10">(</p>
<p class="p8"><span class="s3">c = </span><span class="s4">WFSConfiguration</span><span class="s3">.rect2( 48, 58, 0.165 ); </span>// create a rectangle shaped configuration</p>
<p class="p7"><br></p>
<p class="p10">(<span class="s7">"width: "</span> ++ c.width ++ <span class="s7">"m"</span>).postln;<span class="Apple-converted-space">        </span><span class="s5">// post the width in meters</span></p>
<p class="p10">(<span class="s7">"depth: "</span> ++ c.depth ++ <span class="s7">"m"</span>).postln;<span class="Apple-converted-space">        </span><span class="s5">// post the depth in meters</span></p>
<p class="p10">(<span class="s7">"size:<span class="Apple-converted-space">  </span>"</span> ++ c.allSpeakers.size ++ <span class="s7">" speakers"</span>).postln;<span class="Apple-converted-space">    </span><span class="s5">// post the total number of speakers</span></p>
<p class="p7"><br></p>
<p class="p8"><span class="s3">c.plot;<span class="Apple-converted-space">                </span></span>// show the whole thing in a window<span class="Apple-converted-space">       </span></p>
<p class="p10">)</p>
<p class="p5"><span class="Apple-tab-span">	</span></p>
<p class="p5"><span class="Apple-tab-span">	</span></p>
<p class="p5"><span class="Apple-tab-span">	</span></p>
<p class="p4">display methods for <b>WFSPath</b>, <b>WFSPathArray</b>, <b>WFSPointArray</b>, <b>WFSSpeakerArray</b>, <b>WFSSpeakerLine</b>:</p>
<p class="p5"><span class="Apple-tab-span">	</span></p>
<p class="p4"><span class="Apple-tab-span">	</span><b>*plot<span class="Apple-converted-space"> </span></b></p>
<p class="p4"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>simple plot in SCEnvelopeView based window</p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p4"><span class="Apple-tab-span">	</span><b>*plotSmooth<span class="Apple-converted-space"> </span></b></p>
<p class="p4"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>interpolated plot in Pen based window. This gives an accurate view of how paths will be played.</p>
<p class="p5"><br></p>
<p class="p5"><span class="Apple-tab-span">	</span></p>
<p class="p5"><span class="Apple-tab-span">	</span></p>
<p class="p3">Classes for <b>synthesizing </b>the wavefield:</p>
<p class="p5"><br></p>
<p class="p6"><br></p>
<p class="p11"><b>WFSPan2D</b></p>
<p class="p11">A UGen for calculating WFS ( sound, location, configuration )</p>
<p class="p12"><br></p>
<p class="p9">WFSPan2D does the actual delaytime and amplitude for a full WFSConfiguration, and imposes them on an<span class="Apple-converted-space"> </span></p>
<p class="p9">input sound. The location is a WFSPoint or WFSPlane, and the configuration a WFSConfiguration object.</p>
<p class="p6"><br></p>
<p class="p9">The following creation methods can be used:</p>
<p class="p6"><span class="Apple-tab-span">	</span></p>
<p class="p4"><span class="s3"><span class="Apple-tab-span">	</span></span><b>*arBufL </b>(<span class="Apple-converted-space">  </span>input sound (one channel), delay buffer number, location, configuration )</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>For moving sounds this is the most optimized one to use. In offers linear interpolation for the delays.</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>The delay buffer should be a one-channel buffer sized after the largest expected distance between</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>speakers and location. Location should be at control rate.</p>
<p class="p5"><span class="Apple-tab-span">	</span></p>
<p class="p4"><span class="Apple-tab-span">	</span><b>*arBufN </b>( input sound (one channel), delay buffer number, location, configuration )</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>For static (non-moving) sounds this is the most optimized option. It does not interpolate the delays,</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>so changing the location will produce clicks.<span class="Apple-converted-space"> </span></p>
<p class="p5"><span class="Apple-tab-span">	</span></p>
<p class="p4"><span class="Apple-tab-span">	</span><b>*arBufC </b>( input sound (one channel), delay buffer number, location, configuration )</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>This version is like *arBuf, but with cubic interpolation for the delays, which sounds a little</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>better. This takes noticably more cpu, so only use this one when not too many moving</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>sources are needed</p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p4"><span class="Apple-tab-span">	</span><b>*makeBuffer </b>(server, buffer number, maximun distance )</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>This method will create and return a buffer for use with the above methods.</p>
<p class="p5"><span class="Apple-tab-span">	</span></p>
<p class="p4"><span class="Apple-tab-span">	</span><b>*ar / *arN / *arC</b> ( input sound, location, configuration )</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>These methods create delay buffers internally and therefore are heavier on CPU.</p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p4"><i>--&gt; future additions / to do:<span class="Apple-converted-space"> </span></i></p>
<p class="p4"><i><span class="Apple-tab-span">	</span>switch off when to far away from speaker (maybe not possible?)</i></p>
<p class="p4"><i><span class="Apple-tab-span">	</span>smooth switching between in front and back for moving sources</i></p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-converted-space"> </span></p>
<p class="p6"><br></p>
<p class="p11"><b>WFSSynthDef</b></p>
<p class="p11">A standardized SynthDef for use in a WFS system ( type, configuration )</p>
<p class="p12"><br></p>
<p class="p9">WFSSynthDefs need to be generated for every different WFSConfiguraion. They could be regarded</p>
<p class="p9">as the playback engines for the wfs system. All WFSSynthDef types have arguments for total time, fadeout time, level and speaker offset (when the configuration is not starting at the first audio output). There are the folowing types available (more might be added in the future ):</p>
<p class="p6"><br></p>
<p class="p9"><i>'linear_blip', 'linear_buf', 'linear_func', 'cubic_blip', 'cubic_buf', 'cubic_func'<span class="Apple-converted-space">  </span></i>:<span class="Apple-converted-space">   </span></p>
<p class="p9"><span class="Apple-tab-span">	</span>For moving sounds with linear and cubic interpolation. As arguments these have buffer numbers for<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span>times, positions and WFSPan delay.<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span>The buffers for positions and times can be generated from the WFSPath object.<span class="Apple-converted-space"> </span></p>
<p class="p9"><span class="Apple-tab-span">	</span>Before playing a Synth based on one of these synthdefs one will have to load buffers containing path data</p>
<p class="p9"><span class="Apple-tab-span">	</span>and the delay buffer as discussed in WFSPan.</p>
<p class="p6"><span class="Apple-tab-span">	</span></p>
<p class="p9"><i>'static_blip', 'static_buf', 'static_func' :</i></p>
<p class="p9"><i><span class="Apple-tab-span">	</span></i>These are for non moving sounds. Arguments are x,y,and z position.<i><span class="Apple-converted-space"> </span></i></p>
<p class="p6"><span class="Apple-tab-span">	</span></p>
<p class="p9"><i>' ... _blip'</i> :</p>
<p class="p9"><span class="Apple-tab-span">	</span>This is a test signal. It has no extra arguments</p>
<p class="p6"><span class="Apple-tab-span">	</span></p>
<p class="p9"><i>' ... _buf'</i> :</p>
<p class="p9"><span class="Apple-tab-span">	</span>This plays a buffer with audio. Extra argument is the buffer number. This should also be loaded before</p>
<p class="p9"><span class="Apple-tab-span">	</span>running this SynthDef.</p>
<p class="p6"><span class="Apple-tab-span">	</span></p>
<p class="p9"><i>' ... _func'</i> :</p>
<p class="p9"><span class="Apple-tab-span">	</span>The func shuld be a function which generates sound. It is used in the SynthDef as input.</p>
<p class="p6"><span class="Apple-tab-span">	</span></p>
<p class="p9"><i>'... _live' :<span class="Apple-converted-space"> </span></i></p>
<p class="p9"><i><span class="Apple-tab-span">	</span></i>Uses an AudioIn input as live input</p>
<p class="p6"><br></p>
<p class="p9">Creation of WFSSynthDef will generate a new SynthDef and store it in it's def parameter. The name of the synthdef will be constructed from the specified type and the WFSConfiguration name.<span class="Apple-converted-space"> </span></p>
<p class="p6"><br></p>
<p class="p9"><i>--&gt; future additions / to do:<span class="Apple-converted-space"> </span></i></p>
<p class="p9"><i><span class="Apple-tab-span">	</span>'midi_ ...' type<span class="Apple-converted-space"> </span></i></p>
<p class="p9"><i><span class="Apple-tab-span">	</span>'func_ ...' type ( generate path in realtime with function )</i></p>
<p class="p6"><i><span class="Apple-tab-span">	</span></i></p>
<p class="p9">A WFSSynthDef needs to be loaded first for WFSSynth to play it. The speaker configuration is stored inside the</p>
<p class="p9">SynthDef, so a change of configuration means reloading the WFSSynthDefs.</p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p11"><b>WFSSynth</b></p>
<p class="p11">A player for WFS sounds ( WFSSynthDefName, WFSPath, server, sound file path, ... more args )</p>
<p class="p12"><br></p>
<p class="p9">The WFSSynth object will play a WFSSynthDef, and automatically generate all the buffers needed. When <b>load</b> is called it will load the buffers, including the sound file buffer when the WFSSynthDef type is ' ... _buf'. Then it creates a new synth which will be <i>paused</i>. In order to actually hear the synth one will have to call the <b>run</b> method. After the synth has ended <b>freeBuffers </b>should be called, to prevent the memory from filling up.</p>
<p class="p9">To do all that automatically a <b>play</b> method is provided, which will call load first, then wait a specified amount of time (1 second by default) and call run. After the synth has ended freeBuffers is also called. This is the most commonly used method. By default it uses the default TempoClock for all scheduling; this can be changed by changing the</p>
<p class="p9"><b>clock</b> classvar.</p>
<p class="p6"><br></p>
<p class="p9">A WFSSynth can only be played once, and will give error messages when you try to play it again.</p>
<p class="p6"><br></p>
<p class="p9"><i>-- future additions / to do:<span class="Apple-converted-space"> </span></i></p>
<p class="p9"><i><span class="Apple-tab-span">	</span>synchronizing and division over multiple computers / servers using WFSServers</i></p>
<p class="p6"><br></p>
<p class="p10">(</p>
<p class="p10">s = <span class="s4">Server</span>.default;</p>
<p class="p10">s.boot;</p>
<p class="p10">)</p>
<p class="p7"><br></p>
<p class="p10">(</p>
<p class="p8">// create a test synthdef for headphone listening setup:</p>
<p class="p13"><span class="s3">d = </span>WFSSynthDef<span class="s3">( </span><span class="s8">'linear_blip'</span><span class="s3">, </span>WFSConfiguration<span class="s3">.stereo );<span class="Apple-converted-space">   </span></span></p>
<p class="p10">d.load( s );</p>
<p class="p10">)</p>
<p class="p7"><br></p>
<p class="p10">(</p>
<p class="p8"><span class="s3">p = </span><span class="s4">WFSPath</span><span class="s3">( [ <span class="Apple-converted-space">  <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span></span>// create a z-shaped WFSPath</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s4">WFSPoint</span>( -1, -1, 0 ),<span class="Apple-converted-space"> </span></p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s4">WFSPoint</span>( 1, -1, 0 ),<span class="Apple-converted-space"> <span class="Apple-tab-span">	</span></span></p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s4">WFSPoint</span>( -1, 1, 0 ),<span class="Apple-converted-space"> </span></p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s4">WFSPoint</span>( 1, 1, 0 ) ],<span class="Apple-converted-space"> </span></p>
<p class="p10"><span class="Apple-tab-span">	</span>[ 0.5, 0.5, 0.5 ], <span class="s8">'z'</span> );<span class="Apple-tab-span">	</span><span class="s5">// times, name</span></p>
<p class="p7"><span class="Apple-tab-span">	</span></p>
<p class="p14"><span class="s3">a = </span><span class="s4">WFSSynth</span><span class="s3">( </span>'linear_blip'<span class="s3">, p );</span></p>
<p class="p8"><span class="s3">a.load( s ) </span>// load all buffers and start paused synth</p>
<p class="p10">)</p>
<p class="p7"><br></p>
<p class="p8">// now wait until buffers are loaded (watch the Post Window )</p>
<p class="p7"><br></p>
<p class="p10">a.run;</p>
<p class="p7"><br></p>
<p class="p8">// when finished</p>
<p class="p7"><br></p>
<p class="p10">b.freeBuffers;</p>
<p class="p6"><br></p>
<p class="p6"><br></p>
<p class="p9">or shortly:</p>
<p class="p7"><br></p>
<p class="p10"><span class="s4">WFSSynth</span>( <span class="s8">'linear_blip'</span>, p ).play( s, 1 );</p>
<p class="p7"><br></p>
<p class="p8">// first loads, waits 1 second (default), runs, and calls freeBuffers when finished</p>
<p class="p6"><span class="Apple-tab-span">	</span></p>
<p class="p12"><br></p>
<p class="p12"><br></p>
<p class="p11">Classes where it all comes <b>together</b>:</p>
<p class="p12"><br></p>
<p class="p12"><br></p>
<p class="p11"><b>WFSEvent</b></p>
<p class="p11">A WFS event ( starttime, WFSSynth, track )</p>
<p class="p12"><br></p>
<p class="p9">The WFSEvent is a placeholder for timed playback of WFSSynths. The WFSSynth should be a newly created one,</p>
<p class="p9">which hasn't been loaded yet. Internally WFSEvent will make a copy of that for every time it is played.</p>
<p class="p9">A classvar <b>wait</b> (1 by default) is used to set the waittime between load and run.</p>
<p class="p6"><br></p>
<p class="p4"><span class="s3"><span class="Apple-tab-span">	</span></span><b>play </b>(server )</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>plays the event at the starttime ( plus wait time as seen in WFSSynth-play )</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>This can be called over and over again.</p>
<p class="p5"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p6"><br></p>
<p class="p10">(</p>
<p class="p8"><span class="s3">p = </span><span class="s4">WFSPath</span><span class="s3">( [ <span class="Apple-converted-space">  <span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></span></span>// create a z-shaped WFSPath</p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s4">WFSPoint</span>( -1, -1, 0 ),<span class="Apple-converted-space"> </span></p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s4">WFSPoint</span>( 1, -1, 0 ),<span class="Apple-converted-space"> <span class="Apple-tab-span">	</span></span></p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s4">WFSPoint</span>( -1, 1, 0 ),<span class="Apple-converted-space"> </span></p>
<p class="p10"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="s4">WFSPoint</span>( 1, 1, 0 ) ],<span class="Apple-converted-space"> </span></p>
<p class="p10"><span class="Apple-tab-span">	</span>[ 0.5, 0.5, 0.5 ], <span class="s8">'z'</span> );<span class="Apple-tab-span">	</span><span class="s5">// times, name</span></p>
<p class="p7"><span class="Apple-tab-span">	</span></p>
<p class="p10">e = <span class="s4">WFSEvent</span>( 2, <span class="s4">WFSSynth</span>( <span class="s8">'linear_blip'</span>, p ) );</p>
<p class="p10">)</p>
<p class="p7"><br></p>
<p class="p8"><span class="s3">e.play(s);<span class="Apple-converted-space">  </span></span>// will play the enclosed WFSSynth 2 + 1 seconds from now</p>
<p class="p15"><br></p>
<p class="p4"><span class="s9"><span class="Apple-tab-span">	</span></span><b>playSync </b>( WFSServers )</p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>This is used internally by the WFSScore and WFSTransport classes.<span class="Apple-converted-space"> </span></p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Calling this will load and setup the event, and unload it again after the event<span class="Apple-converted-space"> </span></p>
<p class="p4"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>is finished. The playback call will have to come from the sync system (see "about the sync system")</p>
<p class="p15"><span class="Apple-tab-span">	</span></p>
<p class="p12"><br></p>
<p class="p12"><br></p>
<p class="p11"><b>WFSServers</b></p>
<p class="p11">A set of MultiServers plus one master Server ( ... ip numbers )</p>
<p class="p12"><br></p>
<p class="p9">The WFSServers object contains and creates an amount of multiservers running local and/or remote.</p>
<p class="p9">the MultiServers are collections of Servers on 1 computer, typically used for dual or quad core machines.</p>
<p class="p9">The Game Of Life WFS System has 2 quad core G5's, and so runs best with four server apps running</p>
<p class="p9">at the same time.<span class="Apple-converted-space">  </span>Both machines handle half of the speakers, so thay run synchronised. The WFSServers</p>
<p class="p9">class handles the synchronisation system.</p>
<p class="p6"><br></p>
<p class="p9"><span class="Apple-tab-span">	</span><b>makeWindow</b></p>
<p class="p9"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>Open threads to all servers and display their performance in one window</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>This is the basic WFS system window, from where all other editors and windows can be</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>opened trough the 'open...' popup menu.<span class="Apple-converted-space"> </span></p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p9"><span class="Apple-tab-span">	</span><b>m<span class="Apple-tab-span">	</span></b>Short for 'masterServer'. This returns the master server if included</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p6"><span class="Apple-tab-span">	</span></p>
<p class="p9"><span class="Apple-tab-span">	</span><b>*single</b></p>
<p class="p9"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>creates a WFSServers instance with only one local server. Use for demo playback without a system</p>
<p class="p6"><span class="Apple-tab-span">	</span></p>
<p class="p9"><span class="Apple-tab-span">	</span><b>*master ( ... ip numbers )</b></p>
<p class="p9"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>cals *new. This is the version used on the master computer of the system. It contains one local</p>
<p class="p9"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>master server and multiple remote servers.</p>
<p class="p6"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></p>
<p class="p9"><span class="Apple-tab-span">	</span><b>*client<span class="Apple-converted-space"> </span></b></p>
<p class="p9"><b><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b>The client version contains only one local multiserver. It is used for the clend units</p>
<p class="p12"><br></p>
<p class="p12"><br></p>
<p class="p11"><b>WFSScore</b></p>
<p class="p11">A time-sorted Collection of WFSEvents, with file write/read option</p>
<p class="p12"><br></p>
<p class="p11"><b>WFSScoreEditor</b></p>
<p class="p11">A graphical score editor</p>
<p class="p12"><br></p>
<p class="p12"><br></p>
<p class="p12"><br></p>
<p class="p12"><br></p>
<p class="p11">ws 2006</p>
</body>
</html>
